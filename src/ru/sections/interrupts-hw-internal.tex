\documentclass[../sparc.tex]{subfiles}
\graphicspath{{\subfix{../images/}}}
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Внутренние аппаратные прерывания}

Как говорилось ранее, источником внутренних прерываний являются периферийными
цепями внутри микроконтроллера.  Мы будем рассматривать подобные прерывания на
примере работы с \emph{таймерами}.

Таймер можно представить, как некоторый ``будильник'', который можно завести
внутри процессора и по его ``звонку'' вызывать некую процедуру -- обработчик
прерывания.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Принцип работы таймера}

Аппаратный таймер по принципу работы представляет собой счётчик.  Преимуществом
таймера является то, что изменение счётчика происходит по аппаратному тактовому
импульсу, не зависящиму от выполнения программы на микроконтроллере.  Это даёт
определённость (или, как говорят, \emph{детерминизм}) в его работе, что в свою
очередь позволяет с большой точностью отмерять промежутки времени, при условии
учёта частоты процессора.

Микроконтроллеры семейства AVR, на которых основана платформа Arduino, обычно
имеют два 8-битных таймера и один 16-битный.  Восьмибитный таймер может считать
от 0 до 255 ($2^{8}-1$), тогда как 16-битный таймер имеет диапазон от 0 до 65535
($2^{16}-1$.)  Таймер с разрешением в 16 бит является более гибким в
использовании, чем 8-битный, однако не всегда возникает необходимость в таком
большом разрешении.  К тому же, использование 8-битного таймера может дать более
эффективный и компактный код.\cite{avr:timers}

\end{document}
